{"mappings":"YACA,IAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,qBACnCE,UAAWH,SAASC,cAAc,oBAClCG,YAAaJ,SAASC,cAAc,uBAWtC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,CAAEM,SAAAT,EAAUC,UAEpBG,EAAO,CAAEK,SAAAT,EAAUC,S,GAEpBA,E,IAjBPT,EAAKI,WAAWc,aAAa,OAAO,OACpClB,EAAKK,UAAUa,aAAa,OAAO,OAoBnC,IAAMC,EAAiB,SAAAC,G,IAAGC,EAAQD,EAARH,SAAUR,EAAKW,EAALX,MAClCa,QAAQC,IAAI,uBAAwCC,OAAfH,EAAS,QAAYG,OAANf,EAAM,M,EAEtDgB,EAAgB,SAAAL,G,IAAGM,EAAQN,EAARH,SAAUR,EAAKW,EAALX,MAC/Ba,QAAQC,IAAI,sBAAqCC,OAAfE,EAAS,QAAYF,OAANf,EAAM,M,EAG3DT,EAAKC,KAAK0B,iBAAiB,UAAU,SAACC,GACpCA,EAAEC,iBACF,IAAMC,EAAS,CACbrB,OAAQmB,EAAEG,OAAOtB,MAAMuB,MACvBC,MAAOL,EAAEG,OAAOE,KAAKD,MACrBE,QAASN,EAAEG,OAAOG,OAAOF,OAE3BG,EAAeL,GAGfR,QAAQC,IAAIO,E,IAKd,IAAMK,EAAiB,SAAAf,GAErB,I,IAFwBX,EAAKW,EAALX,MAAOwB,EAAIb,EAAJa,KAAMC,EAAMd,EAANc,OAC/BE,EAAW,GACRC,EAAI,EAAGA,EAAIH,EAAQG,GAAG,EAE3BD,EAASC,GAAK9B,EAAc8B,EAAG5B,GAC/BA,GAASwB,EAGbX,QAAQC,IAAIa,GACZ1B,QAAQ4B,IAAIF,GAAUG,KAAKpB,GAAgBqB,MAAMf,E","sources":["src/js/03-promises.js"],"sourcesContent":["\nconst refs = {\n  form: document.querySelector('.form'),\n  inputDelay: document.querySelector('input[name=delay]'),\n  inputStep: document.querySelector('input[name=step]'),\n  inputAmount: document.querySelector('input[name=amount]'),\n}\nconst position = 0;\nrefs.inputDelay.setAttribute('step','100');\nrefs.inputStep.setAttribute('step','100');\n\n// let delay = inputDelay.value;\n// const step = inputStep.value;\n// const amount = inputAmount.value;\n\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      };\n    }, delay);\n  });\n};\n  \nconst resolvePromise = ({ position, delay }) => {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\nconst rejectPromise = ({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n};\n   \nrefs.form.addEventListener('submit', (e) => {\n  e.preventDefault();\n  const values = { \n    delay: +e.target.delay.value,\n    step: +e.target.step.value,\n    amount: +e.target.amount.value,\n  };\n  makeArrPromise(values);\n  //console.log(makeArrPromise(values));\n\n  console.log(values);\n  \n  //createPromise(2,1500).then(resolvePromise).catch(rejectPromise);\n})\n\nconst makeArrPromise = ({ delay, step, amount }) => {\n  const promises = [];\n  for (let i = 0; i < amount; i+=1) {\n      //promises[i] = createPromise(5, 1000);\n      promises[i] = createPromise(i, delay);\n      delay += step;\n  };\n\n  console.log(promises);\n  Promise.all(promises).then(resolvePromise).catch(rejectPromise);\n};\n"],"names":["$ce04d3a99e08e73b$var$refs","form","document","querySelector","inputDelay","inputStep","inputAmount","$ce04d3a99e08e73b$var$createPromise","position1","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","position","setAttribute","$ce04d3a99e08e73b$var$resolvePromise","param","position2","console","log","concat","$ce04d3a99e08e73b$var$rejectPromise","position3","addEventListener","e","preventDefault","values","target","value","step","amount","$ce04d3a99e08e73b$var$makeArrPromise","promises","i","all","then","catch"],"version":3,"file":"03-promises.6e067bce.js.map"}